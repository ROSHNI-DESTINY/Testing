import{f as k,Q as x,o as a,i as n,j as e,D as h,A as s,u as f,an as C,F as p,s as g,I as O,v as u,x as y,a4 as S,a5 as D,a9 as M,ax as $,z as B,p as N,t as b,q as v,R as q,c as T,T as E}from"./entry.e849d55d.js";import{l as V}from"./layout3.de1198b3.js";import"./mobileMenu.c46e92c0.js";import"./image-not-found.6e11aec0.js";import"./logo.bbc6aa26.js";const j={props:["order","currency"],data(){return{order_status:"",is_loading:!1}},methods:{async getOrderStatus(){let c={orderid:this.order.id};const o=await x("order-status",c);this.order_status=o.data.orderstatus,(o.msg="Success.")&&(this.is_loading=!0)}},beforeMount(){this.getOrderStatus()}},L={class:"col-12 overflow-hidden"},P={class:"order-left-image ratio_asos"},H={class:"order-image-contain"},R=e("h4",null,"Order Details",-1),z={key:0,class:"tracker-number"},K={class:"font-light"},Q={class:"font-light"},A={class:"font-light"},I={class:"row"},U={class:"tracker-table traker-custom-table"},G={class:"table-responsive"},J={class:"table"},W=e("thead",null,[e("tr",{class:"table-head"},[e("th",{scope:"col"},"Product Name"),e("th",{scope:"col",class:"text-center"},"Quantity"),e("th",{scope:"col"},"Price"),e("th",{scope:"col"},"Total")])],-1),X={class:"text-center"},Y={key:0,class:"price"},Z={key:0},ee={key:1},te={key:0},se={colspan:"3"},oe={key:1},re={colspan:"3"},le=e("td",{colspan:"3",class:"pe-0"},[e("span",{class:"subtotal"},"Sub Total:")],-1),ae={class:"text-start ps-3"},ne={class:"subtotal"},ce={class:"progtrckr"};function ie(c,o,r,F,i,d){var l;return a(),n("div",L,[e("div",P,[e("div",H,[R,i.is_loading?(a(),n("div",z,[e("p",K,[h("Order Number : "),e("span",null,s(r.order.uniqueid),1)]),e("p",Q,[h(" Order Date : "),e("span",null,s(f(C)(r.order.created_at)),1)]),e("p",A,[h(" Current Order Status : "),e("span",null,s(i.order_status.slice(-1)[0].getorderstatus.name),1)]),e("div",I,[e("div",U,[e("div",G,[e("table",J,[W,e("tbody",null,[(a(!0),n(p,null,g((l=r.order)==null?void 0:l.orderdetail,(t,_)=>{var m;return a(),n("tr",{key:"data"+_},[e("td",null,[e("p",null,s((m=f(O)(t==null?void 0:t.products))==null?void 0:m.product_name),1)]),e("td",X,[e("p",null,s(t.quantity),1)]),parseFloat(t.products.default_price[0].price)>parseFloat(t.price)?(a(),n("td",Y,[e("p",null,s(r.currency.symbol)+s(t.products.default_price[0].price<t.price?parseFloat(t.products.default_price[0].price).toFixed(2):parseFloat(t.price).toFixed(2)),1),t.price&&t.products.default_price[0].price>t.price?(a(),n("p",Z,s(r.currency.symbol)+s(parseFloat(t.products.default_price[0].price).toFixed(2)),1)):u("",!0)])):(a(),n("td",ee,s(r.currency.symbol)+" "+s(parseFloat(t.products.default_price[0].price)>parseFloat(t.price)?parseFloat(t.price).toFixed(2):parseFloat(t.products.default_price[0].price).toFixed(2)),1)),e("td",null,[e("p",null,s(r.currency.symbol)+s(parseFloat(t.quantity*(parseFloat(t.products.default_price[0].price)<parseFloat(t.price)?parseFloat(t.products.default_price[0].price).toFixed(2):parseFloat(t.price).toFixed(2))).toFixed(2)),1)])])}),128)),r.order.order_shipment_method?(a(),n("tr",te,[e("td",se,"Shipping Method : "+s(r.order.order_shipment_method.shipment_details.name),1),e("td",null,"+"+s(r.currency.symbol)+s(parseFloat(r.order.order_shipment_method.charge).toFixed(2)),1)])):u("",!0),r.order.coupon_applied_details?(a(),n("tr",oe,[e("td",re,[h("Coupon Code : "),e("b",null,s(r.order.coupon_applied_details.gift_code),1)]),e("td",null,"-"+s(r.currency.symbol)+s(parseFloat(r.order.coupon_applied_details.used_balance).toFixed(2)),1)])):u("",!0)]),e("tfoot",null,[e("tr",null,[le,e("td",ae,[e("span",ne,s(r.currency.symbol)+" "+s(parseFloat(r.order.total).toFixed(2)),1)])])])])])])])])):u("",!0),e("ol",ce,[(a(!0),n(p,null,g(i.order_status,(t,_)=>(a(),n("li",{key:_,class:"progtrckr-done"},[e("h5",null,s(t.getorderstatus.name),1)]))),128))])])])])}const de=k(j,[["render",ie]]);const _e={props:["orderstatus","order"],data(){return{form:{message:"",order_id:"",send_by:"1"},allMessages:{},validationError:"",handleClick:!1}},methods:{async sendMessage(){if(this.form.message==""&&this.handleClick)this.validationError="Required";else{this.form.order_id=this.order.id;let c=await x("send-order-message",this.form);c.success&&(this.validationError="",this.form.message="",this.allMessages=c.data.order_data.order_messages)}},async manageClick(){this.handleClick=!0,this.sendMessage()},scrollToBottom(c){this.$nextTick(()=>{const o=this.$refs["scrollContainer_"+c];o.scrollTop=o.scrollHeight})}},mounted(){this.sendMessage(),this.scrollToBottom()}},ue={class:"col-12 overflow-visible"},pe={class:"tracker-table"},he={class:"table-responsive"},me={class:"table chat-table overflow-hidden"},fe=e("thead",null,[e("tr",{class:"table-head"},[e("th",{scope:"col",colspan:"2"},"Comment or Feedback")])],-1),ge={class:"message-container"},ye={class:"d-block"},be=["onLoad"],ve={colspan:"2"},ke={class:"row"},xe={class:"col-md-12 right-inner-addon input-container"},Fe={class:"text-danger"},Te={class:"col-12 overflow-visible"},Ce={class:"tracker-table"},we={class:"table-responsive"},Oe={class:"table"},Se=e("thead",null,[e("tr",{class:"table-head"},[e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Description")])],-1),De={class:"fw-bold"},Me={class:"text-center mx-auto mt-4"};function $e(c,o,r,F,i,d){return a(),n(p,null,[e("div",ue,[e("div",pe,[e("div",he,[e("table",me,[fe,e("tbody",null,[e("td",null,[e("div",ge,[e("ul",ye,[(a(!0),n(p,null,g(i.allMessages,(l,t)=>(a(),n("li",{class:y(["d-flex",l.send_by=="0"?"justify-content-start":"justify-content-end"]),key:t,ref_for:!0,ref:"scrollContainer_"+t,onLoad:_=>d.scrollToBottom(t)},[e("div",{class:y(["talk-bubble tri-right round right-top",l.send_by=="0"?"admin-bubble border":"cutomer-bubble border-1"])},[e("div",{class:y(["customer-talktext",l.send_by=="0"?"admin-talktext":"customer-talktext"])},[e("p",null,s(l.message),1)],2)],2)],42,be))),128))])])]),e("tr",null,[e("td",ve,[e("div",ke,[e("div",xe,[e("i",{class:"fa fa-paper-plane","aria-hidden":"true",onClick:o[0]||(o[0]=(...l)=>d.manageClick&&d.manageClick(...l))}),S(e("input",{type:"text",id:"message","onUpdate:modelValue":o[1]||(o[1]=l=>i.form.message=l),class:"form-control",placeholder:"Type message...",onKeyup:o[2]||(o[2]=M((...l)=>d.manageClick&&d.manageClick(...l),["enter"]))},null,544),[[D,i.form.message]]),e("span",Fe,s(i.validationError),1)])])])])])])])])]),e("div",Te,[e("div",Ce,[e("div",we,[e("table",Oe,[Se,e("tbody",null,[(a(!0),n(p,null,g(r.orderstatus,(l,t)=>(a(),n("tr",{key:"data"+t},[e("td",null,[e("p",null,s(f(C)(l.created_at)),1)]),e("td",null,[e("p",null,s(f($)(l.created_at)),1)]),e("td",null,[e("p",De,s(l.text),1)])]))),128))])])])]),e("div",Me,[e("button",{href:"javascript:void(0)",onClick:o[3]||(o[3]=B(l=>c.$router.push("/"),["prevent"])),type:"button",class:"btn btn-solid-default mx-1 btn-sm"},"Continue Shopping")])])],64)}const Be=k(_e,[["render",$e]]);const Ne={data(){return{order_details:{},currency:"",isSuccess:!1}},components:{layout3:V},head(){return{title:"Order Tracking"}},methods:{getDetails:async function(c){let o=await x("order",{orderid:c});this.order_details=o.data.order,this.currency=o.data.currency,this.orderstatus=o.data.order_logs,this.isLoading=!1,this.isSuccess=!0}},mounted(){this.$route.params.id&&this.getDetails(this.$route.params.id)}},qe={class:"section-b-space"},Ee={class:"container"},Ve={class:"row"};function je(c,o,r,F,i,d){const l=E,t=q,_=de,m=Be,w=N("layout3");return a(),n(p,null,[b(t,null,{default:v(()=>[b(l,null,{default:v(()=>[h("Order Tracking")]),_:1})]),_:1}),b(w,{pageName:"Order Tracking",parent:"Order Tracking",breadcrumb:!1},{default:v(()=>[e("section",qe,[e("div",Ee,[e("div",Ve,[i.isSuccess?(a(),T(_,{key:0,order:i.order_details,orderstatus:c.orderstatus,currency:i.currency},null,8,["order","orderstatus","currency"])):u("",!0),i.isSuccess?(a(),T(m,{key:1,orderstatus:c.orderstatus,order:i.order_details},null,8,["orderstatus","order"])):u("",!0)])])])]),_:1})],64)}const Ke=k(Ne,[["render",je]]);export{Ke as default};
