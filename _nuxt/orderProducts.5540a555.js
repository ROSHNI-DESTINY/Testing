import{f as g,G as v,H as b,M as u,Q as x,a1 as k,a6 as y,i as r,j as s,F as C,s as D,v as f,o as l,t as S,q as I,D as P,A as p,u as _,I as m,a4 as N,a5 as Q,z as B,O as M,P as T,N as V}from"./entry.e849d55d.js";import{I as A}from"./ItemQuantity.8a306cb9.js";const j={props:["products"],components:{ItemQuantity:A},data(){return{proQuantity:null,prices:[],showTable:!0,product_quantity:null}},watch:{},computed:{...v(b,{userData:"user"})},methods:{maxQtyhanlde:function(t,e){return e.quantity_details[0].max_quantity>0?!(t>e.quantity_details[0].max_quantity&&e.quantity_details[0].max_quantity!=0):!(t==0||t<=0)},increment(t,e){const a=this.products.find(d=>d.id===t);if(a){const d=a.detail.quantity_details[0].max_quantity;a.quantity++,a.quantity>d&&d!=0&&(a.quantity=d),this.prices=u(a.detail,a.quantity,e).price}},decrement(t,e){const a=this.products.find(d=>d.id===t);a&&(a.quantity>1?a.quantity--:a.quantity==1,this.prices=u(a.detail,a.quantity,e).price)},qtyhanlde(t,e,a){const d=this.products.find(i=>i.id===e),o=d.detail.quantity_details[0].max_quantity;this.maxQtyhanlde(parseInt(t),this.products.find(i=>i.id===e).detail)?(this.products.find(i=>i.id===e).quantity=parseInt(t),this.prices=u(d.detail,d.quantity,a).price):(t==0||t==""?(this.products.find(i=>i.id===e).quantity="",this.products.find(i=>i.id===e).quantity=1):t>0&&o>0&&o!=0&&t>o&&(this.products.find(i=>i.id===e).quantity="",this.products.find(i=>i.id===e).quantity=o),this.prices=u(d.detail,d.quantity,a).price)},handleBlur(t){this.products.find(e=>e.id===t).quantity,(isNaN(this.products.find(e=>e.id===t).quantity)||this.products.find(e=>e.id===t).quantity==0)&&(this.products.find(e=>e.id===t).quantity=1)},async addcart(){var e=await x("quick-order",{product_data:this.products});e.success?(k().Products(),this.$emit("productEmpty"),y().toggleSuccessfulModal({message:"Product added successfully."})):e.error&&y().toggleSuccessfulModal({message:"Product Not Added."})},async removeItem(t){this.$emit("index",t)},async getPrice(t,e,a){this.products.find(d=>d.id===t.id).cart_price=u(t,e,a).price}}},h=t=>(M("data-v-8a8cf39e"),t=t(),T(),t),E={key:0},K={class:"table cart-table w-100 addeffect-section",cellpadding:"15"},O=h(()=>s("thead",null,[s("tr",null,[s("th",{class:"text-center"},"NAME/SKU"),s("th",{class:"text-center"},"QTY"),s("th",{class:"text-center"},"Price"),s("th")])],-1)),U={class:"w-50"},F={class:"qty-box"},z={class:"input-group justify-content-center"},G={class:"input-group-prepend"},H=["onClick"],L=h(()=>s("i",{class:"fas fa-minus"},null,-1)),R=[L],Y=["value","onKeyup","onBlur"],J={class:"input-group-prepend"},W=["onClick"],X=h(()=>s("i",{class:"fas fa-plus"},null,-1)),Z=[X],w={class:"qty-box"},$={class:"d-none"},tt={class:"input-group justify-content-center"},et={class:"input-group-prepend w-100"},st={type:"button",class:"btn quantity-right-plus w-100"},at=["onUpdate:modelValue"],it={class:"w-10"},nt=["onClick"],dt=h(()=>s("i",{class:"fas fa-trash",style:{color:"var(--theme-color)"}},null,-1)),ct=[dt];function ut(t,e,a,d,o,i){const q=V;return a.products?(l(),r("div",E,[s("div",null,[s("table",K,[O,s("tbody",null,[(l(!0),r(C,null,D(a.products,(n,ot)=>(l(),r("tr",null,[s("td",U,[S(q,{to:"/product/"+_(m)(n.detail).slug},{default:I(()=>[P(p(_(m)(n.detail).product_name),1)]),_:2},1032,["to"])]),s("td",F,[s("div",z,[s("span",G,[s("button",{type:"button",class:"btn quantity-left-minus","data-type":"minus","data-field":"",onClick:c=>i.decrement(n.id,t.userData)},R,8,H)]),s("input",{type:"number",class:"form-control",value:n.quantity,onKeyup:c=>i.qtyhanlde(c.target.value,n.id,t.userData),onBlur:c=>i.handleBlur(n.id),onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,40,Y),s("span",J,[s("button",{type:"button",class:"btn quantity-right-plus","data-type":"plus","data-field":"",onClick:c=>i.increment(n.id,t.userData)},Z,8,W)])])]),s("td",w,[s("span",$,p(i.getPrice(n.detail,n.quantity,t.userData)),1),s("div",tt,[s("span",et,[s("button",st,p(_(u)(n.detail,n.quantity,t.userData).currency)+p(_(u)(n.detail,n.quantity,t.userData).price)+" ",1),N(s("input",{type:"hidden",name:"newPrice","onUpdate:modelValue":c=>n.cart_price=c},null,8,at),[[Q,n.cart_price]])])])]),s("td",it,[s("a",{href:"javascript:void(0)",class:"icon",onClick:B(c=>i.removeItem(n.id),["prevent"])},ct,8,nt)])]))),256))])]),a.products&&a.products.length>0?(l(),r("button",{key:0,class:"btn btn-solid-default rounded-1 mt-3",onClick:e[0]||(e[0]=(...n)=>i.addcart&&i.addcart(...n))}," ADD TO CART ")):f("",!0)])])):f("",!0)}const pt=g(j,[["render",ut],["__scopeId","data-v-8a8cf39e"]]);export{pt as default};
