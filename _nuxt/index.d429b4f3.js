import{f as S,G as N,a8 as T,Q as p,p as d,i as r,t as l,q as u,F as m,R as j,o as a,D as f,j as t,A as g,u as k,B as C,a4 as E,a5 as I,x as B,s as F,z as O,I as D,v,c as M,T as Q,O as V,P as H}from"./entry.e849d55d.js";import{l as R}from"./layout3.de1198b3.js";import{u as z}from"./filters.1179c817.js";import A from"./orderProducts.5540a555.js";import"./mobileMenu.c46e92c0.js";import"./image-not-found.6e11aec0.js";import"./logo.bbc6aa26.js";import"./ItemQuantity.8a306cb9.js";const U={components:{layout3:R,orderProduct:A},data(){return{quantity:0,quickobj:{productName:null,quantity:null},cancelToekn:"",quickProducts:[],matchedProducts:{},suggestions:!1,seleltedProduct:null,quickerror:"",isSuccess:!1,paginations:[],page:1,all_fetch:!1,is_on_way:!0,urls:[],details:{}}},computed:{...N(z,{showFilterBar:"showFilters"})},watch:{async"quickobj.productName"(){if(this.quickobj.productName!==""){this.details={product:this.quickobj.productName,ids:this.quickProducts},this.cancelToekn!=""&&this.cancelToekn.cancel("Request canceled by the user");const e=T.CancelToken.source();this.cancelToekn=e;let o=await p("get-search",this.details,this.cancelToekn.token);o.success&&(this.matchedProducts=o.data.get_search.data,this.suggestions=!0)}else this.suggestions=!1,this.matchedProducts={}},async seleltedProduct(){this.quickobj.productName=this.seleltedProduct}},head(){return{title:"Quick Order"}},methods:{increment(){this.quantity++},decrement(){this.quantity>0&&this.quantity--},storeProduct(s){this.quickProducts.push({id:s.id,name:s.product_name,quantity:1,detail:s}),this.quickobj.productName="",this.isSuccess=!0},async changeIndex(s){Object.values(this.quickProducts).forEach((e,o)=>{e.id===s&&this.quickProducts.splice(o,1)})},async productEmpty(){this.quickProducts=[]},handleScroll(){const s=this.$refs.searchSuggestion;s.scrollHeight-s.scrollTop===s.clientHeight&&!this.all_fetch&&this.is_on_way&&this.loadMoreData()},async loadMoreData(){this.page=this.page+1,this.is_on_way=!1;let s=await p("get-search?page="+this.page,this.details);if(s.success){this.paginations=s.data.get_search.links,s.data.get_search.data.forEach(_=>{this.matchedProducts.push(_)});for(var e=this.urls,o=0;o<e.length;o++)if(e[o]===this.page){e.splice(o,1);break}this.urls=e,this.urls.length==0&&(this.is_on_way=!0)}}}},h=s=>(V("data-v-3b29cef1"),s=s(),H(),s),G={style:{"min-height":"500px"}},K={class:"container"},L={class:"row gy-5 justify-content-center"},J={class:"col-lg-9 col-12"},W={class:"filter-button mb-3"},X={class:"danger-button danger-center btn btn-sm filter-btn"},Y=h(()=>t("i",{"data-feather":"align-left"},null,-1)),Z={class:"details-items"},$={class:"row"},tt={class:"col-12"},st={class:"dashed-box"},et={class:"row"},ot=h(()=>t("div",{class:"col-9 text-center"},"NAME/SKU",-1)),ct=h(()=>t("div",{class:"col-12"},[t("hr")],-1)),it={class:"col-12 mt-3 cart-btn"},at={class:"row"},nt={class:"col-10"},rt={class:"search-suggestion quick-order"},lt=["onClick"],dt={class:"mb-1"},ut={key:1,class:"w-100"};function ht(s,e,o,_,i,n){const y=Q,b=j,q=d("orderProduct"),P=d("rightSidebar"),x=d("tabs"),w=d("layout3");return a(),r(m,null,[l(b,null,{default:u(()=>[l(y,null,{default:u(()=>[f("Quick Order")]),_:1})]),_:1}),l(w,{pageName:"Quick Order",parent:"Quick Order",breadcrumb:!1},{default:u(()=>[t("section",G,[t("div",K,[t("div",L,[t("div",J,[t("div",W,[t("button",X,[Y,f(" "+g(k(C)().public.const.Filter),1)])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",st,[t("div",et,[ot,ct,t("div",it,[t("div",at,[t("div",nt,[E(t("input",{type:"text",placeholder:"Enter Product Name",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=c=>i.quickobj.productName=c)},null,512),[[I,i.quickobj.productName]]),t("div",{class:B(["search-full",[{show:i.suggestions}]]),id:"suggestions"},[t("div",rt,[i.suggestions?(a(),r("ul",{key:0,class:"custom-scroll",onScroll:e[1]||(e[1]=(...c)=>n.handleScroll&&n.handleScroll(...c)),ref:"searchSuggestion"},[i.matchedProducts.length>0?(a(!0),r(m,{key:0},F(i.matchedProducts,c=>(a(),r("li",{class:"w-100",key:c.id},[t("a",{href:"javascript:void(0)",onClick:O(_t=>n.storeProduct(c),["prevent"])},[t("h6",dt,g(k(D)(c).product_name),1)],8,lt)]))),128)):(a(),r("li",ut," No Results Found "))],544)):v("",!0)])],2)])])]),i.isSuccess?(a(),M(q,{key:0,products:i.quickProducts,onProductEmpty:e[2]||(e[2]=c=>n.productEmpty()),onIndex:e[3]||(e[3]=c=>n.changeIndex(c))},null,8,["products"])):v("",!0)])])])])])]),l(P),l(x)])])])]),_:1})],64)}const qt=S(U,[["render",ht],["__scopeId","data-v-3b29cef1"]]);export{qt as default};
