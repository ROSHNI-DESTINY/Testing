import{X as c,ay as n}from"./entry.e849d55d.js";const o=c({id:"filter",state:()=>({showFilters:!1,allCards:n.data,cards:n.data.filter(e=>e.type==="fashion"),filteredCards:[],maxPrice:0,colorFilter:"",priceRange:[],selectedColorsList:"all",filtersList:[],category:"all",discount:0,sortingCriteria:"byPopularity",selectedRatingStars:[],selectedSize:""}),getters:{cardsToReturn(e){var i=[];if(e.filtersList.length===0?i=e.allCards:i=e.filteredCards,i=i.filter(r=>{if(r.type===e.category&&r.discount>=e.discount||(e.category==="all"||e.category===void 0)&&r.discount>=e.discount)return!0}),e.priceRange.length!=0&&(i=i.filter(r=>{if(r.price>=e.priceRange[0]&&r.price<=e.priceRange[1])return!0})),e.selectedColorsList!="all"){var t=[];typeof e.selectedColorsList=="string"?i=t.filter(r=>r.colors.includes(e.selectedColorsList)):e.selectedColorsList.forEach(r=>{t.push(...i.filter(s=>{if(s.colors.includes(r))return!0}))}),i=t}return e.selectedRatingStars.length>0&&(i=i.filter(r=>e.selectedRatingStars.includes(r.ratingStars))),e.selectedSize.length>0&&(i=i.filter(r=>r.sizeoption.includes(e.selectedSize))),i=[...new Set(i)],e.sortingCriteria!="default"&&(e.sortingCriteria==="byPrice"?i.sort((r,s)=>r.price-s.price):e.sortingCriteria==="byPriceHTL"?i.sort((r,s)=>s.price-r.price):e.sortingCriteria==="byName"?i.sort((r,s)=>{let l=r.name.toLowerCase(),a=s.name.toLowerCase();return l<a?-1:l>a?1:0}):e.sortingCriteria==="byRating"?i.sort((r,s)=>s.ratingStars-r.ratingStars):e.sortingCriteria==="byPopularity"&&i.sort((r,s)=>s.totalPurchases-r.totalPurchases)),i},maxPrice(e,i){var t=[];return e.category==="all"||e.category===void 0?t=[...new Set(e.allCards.map(r=>r.price?r.price:0))]:t=[...new Set(e.allCards.filter(r=>r.type===e.category).map(r=>r.price?r.price:0))],t.length===0&&(t=[100]),Math.ceil(Math.max(...t)/100)*100},unroundedMaxPrice(e,i){var t=[];return e.category==="all"||e.category===void 0?t=[e.allCards.map(r=>r.price?r.price:0)]:t=[e.allCards.filter(r=>r.type===e.category).map(r=>r.price?r.price:0)],t.length===0&&(t=[100]),Math.max(...t)},brandFilters:e=>{const i=[...new Set(e.allCards.filter(t=>{if(e.category==="all"||e.category===void 0)return!0;if(e.category===t.type)return!0}).map(t=>t.brand))];return i.splice(i.indexOf("none"),1),i},categories:e=>[...new Set(e.allCards.map(t=>t.type))],sortingCriterias:()=>{var e=[{criteria:"default",displayName:"Default"},{criteria:"byPrice",displayName:"Sort By Price"},{criteria:"byName",displayName:"Sort By Name"},{criteria:"byPopularity",displayName:"Sort By Popularity"},{criteria:"byRating",displayName:"Sort By Rating"},{criteria:"byPriceHTL",displayName:"Sort By Price High To Low"}];return e}},actions:{setFiltersList(e){this.filtersList=e,this.filteredCards=d(this.filtersList,this.allCards)},setCategory(e){this.category=e},toggleFilterBar(){this.showFilters=!this.showFilters},clearAllFilters(){this.filtersList=[]},filterDiscount(e){this.discount=e},priceRangeChange(e){this.priceRange=e},setColorsList(e){e.length!=0?this.selectedColorsList=e:this.selectedColorsList="all"},setsSortingCriteria(e){e===void 0?this.sortingCriteria="default":this.sortingCriteria=e},setRatingStarsFilter(e){this.selectedRatingStars=e.selectedRatingStars},setSelectedSize(e){this.selectedSize=e.selectedSize},removeFilter(e){var i=this.filtersList;i.splice(i.indexOf(e),1),o().setFiltersList(i)}}});function d(e,i){var t=[],r=[];return e.forEach(s=>{i.forEach(l=>{(l.brand===s||l.type===s)&&t.push(l)})}),r=[...new Set(t)],r}export{o as u};
